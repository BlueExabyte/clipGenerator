<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <iframe
        id="displayFrame"
        src="https://clips.twitch.tv/embed?clip=TolerantBelovedVultureHotPokket-hJegeQ-T9b38YTkR&parent=www.blueexabyte.github.io&parent=blueexabyte.github.io"
        height="360"
        width="640"
        allowfullscreen="true"
        autoplay="true"
    >
    </iframe>
    <script type="text/javascript">
        //let apiURL="http://localhost:8090/url";
        let apiURL="http://blueexabyte.github.io/clipGenerator/url";
        let strResponseHttpRequest = httpGetAsync(apiURL, function(responseText) {
            console.log("response", (responseText));
            document.getElementById("displayFrame").src = JSON.parse(responseText)['url']
            console.log(document.getElementById("displayFrame").src)
        });

        function httpGetAsync(url, callback)
        {
            var xmlHttp = new XMLHttpRequest();
            xmlHttp.onreadystatechange = function() { 
            if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
                callback(xmlHttp.responseText);
            }
            xmlHttp.open("GET", url, true);
            xmlHttp.send(null);
            return xmlHttp.responseText;
        }
    </script>
  </body>
</html>